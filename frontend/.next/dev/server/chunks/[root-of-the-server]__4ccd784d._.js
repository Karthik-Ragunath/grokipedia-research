module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/fs/promises [external] (fs/promises, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs/promises", () => require("fs/promises"));

module.exports = mod;
}),
"[externals]/path [external] (path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[project]/app/api/grpo-videos/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GET",
    ()=>GET
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$fs$2f$promises__$5b$external$5d$__$28$fs$2f$promises$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/fs/promises [external] (fs/promises, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/path [external] (path, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/fs [external] (fs, cjs)");
;
;
;
;
// Resolve paths relative to the project root (one level up from frontend)
const PROJECT_ROOT = (0, __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__["resolve"])(process.cwd(), '..');
const GRPO_VIDEOS_DIR = (0, __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__["join"])(PROJECT_ROOT, 'paper-manim-viz-explanations/grpo-explainer/generated_videos/reinforcement_learning');
// Recursively find all video.mp4 files
async function findVideoFiles(dir, basePath = '') {
    const videos = [];
    try {
        const entries = await (0, __TURBOPACK__imported__module__$5b$externals$5d2f$fs$2f$promises__$5b$external$5d$__$28$fs$2f$promises$2c$__cjs$29$__["readdir"])(dir, {
            withFileTypes: true
        });
        for (const entry of entries){
            const fullPath = (0, __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__["join"])(dir, entry.name);
            const relativePath = basePath ? (0, __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__["join"])(basePath, entry.name) : entry.name;
            if (entry.isDirectory()) {
                // Recursively search in subdirectories
                const subVideos = await findVideoFiles(fullPath, relativePath);
                videos.push(...subVideos);
            } else if (entry.name === 'video.mp4') {
                videos.push({
                    path: fullPath,
                    relativePath
                });
            }
        }
    } catch (error) {
        console.error(`Error reading directory ${dir}:`, error);
    }
    return videos;
}
async function GET() {
    try {
        if (!(0, __TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__["existsSync"])(GRPO_VIDEOS_DIR)) {
            console.error(`GRPO_VIDEOS_DIR does not exist: ${GRPO_VIDEOS_DIR}`);
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: `GRPO videos directory not found: ${GRPO_VIDEOS_DIR}`
            }, {
                status: 500
            });
        }
        const videoItems = [];
        // Find all video.mp4 files recursively
        const videoFiles = await findVideoFiles(GRPO_VIDEOS_DIR);
        // Sort by path to maintain consistent order
        videoFiles.sort((a, b)=>a.relativePath.localeCompare(b.relativePath));
        for (const videoFile of videoFiles){
            // Extract chunk info from path
            // e.g., chunk_01_introduction_to_grpo/video.mp4
            // or chunk_08_training_and_evaluation_setup/reinforcement_learning/chunk_08_training_and_evaluation_setup/video.mp4
            const pathParts = videoFile.relativePath.split('/');
            const chunkDir = pathParts[0] // First directory is the chunk directory
            ;
            // Extract chunk number and name
            const match = chunkDir.match(/chunk_(\d+)_(.+)/);
            if (!match) continue;
            const chunkNumber = parseInt(match[1], 10);
            const chunkName = match[2];
            // Format title from chunk name
            const title = chunkName.replace(/_/g, ' ').replace(/\b\w/g, (l)=>l.toUpperCase());
            // Use the relative path for the API endpoint
            // Remove 'video.mp4' and use the directory path
            const apiPath = videoFile.relativePath.replace(/\/video\.mp4$/, '');
            videoItems.push({
                id: `grpo_chunk_${chunkNumber}`,
                title,
                description: `GRPO: ${title}`,
                videoPath: `/api/grpo-video/${apiPath}`,
                chunkNumber,
                header: chunkName,
                chunkDir: chunkDir
            });
        }
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            videos: videoItems
        });
    } catch (error) {
        console.error('Error loading GRPO videos:', error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: 'Failed to load GRPO videos'
        }, {
            status: 500
        });
    }
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__4ccd784d._.js.map